/* ===============  Base Reset  =============== */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  --bg-gradient-start:#e6fffb; --bg-gradient-end:#e6f7ff;
  --brand:#0ea5a5; --brand-700:#0b8d8d; --brand-50:#e6fffb;
  --accent:#3b82f6; --accent-700:#2563eb;
  --ok:#10b981; --no:#ef4444; --na:#94a3b8;
  --ink:#0f172a; --ink-2:#334155; --muted:#64748b;
  --line:#e2e8f0; --card:#fff;
  --shadow-sm:0 1px 2px rgba(15,23,42,.06);
  --shadow:0 6px 18px rgba(2,132,199,.10);
  --radius:14px; --radius-lg:18px;

  /* å°é½Šèˆ‡ç‰ˆé¢ç¯€å¥ */
  --page-x: 22px;          /* Header/Main/Footer å·¦å³ä¸€è‡´é‚Šè· */
  --section-gap: 18px;     /* ä¸»è¦å€å¡Šä¹‹é–“çš„å‚ç›´ç•™ç™½ */
  --block-gap: 12px;       /* å€å¡Šå…§å…ƒä»¶çš„å‚ç›´ç•™ç™½ */
}
@media (max-width: 680px){
  :root{ --page-x: 14px; --section-gap: 14px; --block-gap: 10px; }
}

html,body{height:100%}
body{
  font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","PingFang TC","Microsoft JhengHei","Heiti TC",sans-serif;
  color:var(--ink); line-height:1.65;
  background:linear-gradient(160deg,var(--bg-gradient-start),var(--bg-gradient-end));
}

/* =============== Shellï¼ˆå…¨ç«™å°é½Šï¼‰ =============== */
.container{
  max-width:1200px;
  margin:0 auto;
  min-height:100dvh;
  display:flex;
  flex-direction:column;
  padding-bottom:40px;
}
header{
  background:linear-gradient(135deg,var(--brand) 0%,var(--accent) 100%);
  color:#fff;
  padding:26px var(--page-x) 14px; /* å·¦å³èˆ‡ä¸»å…§å®¹å°é½Š */
  text-align:center;
  border-bottom-left-radius:var(--radius-lg);
  border-bottom-right-radius:var(--radius-lg);
  box-shadow:var(--shadow)
}
header h1{font-size:clamp(22px,2.2vw,28px);font-weight:800;letter-spacing:.2px}
.subtitle{font-size:14px;opacity:.95;margin-top:6px}

.main-content{
  display:block;
  width:100%;
  padding:0 var(--page-x);  /* èˆ‡ header/footer å°é½Š */
  margin-top: var(--section-gap);
}

footer{
  margin-top: var(--section-gap);
  text-align:center;
  color:var(--muted);
  font-size:13px;
  padding:0 var(--page-x);  /* èˆ‡ä¸»å…§å®¹å°é½Š */
}

/* =============== Top nav =============== */
.topnav{margin-top:12px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.topnav .nav-link{
  display:inline-block;padding:6px 12px;border:1px solid rgba(255,255,255,.25);
  color:#fff;text-decoration:none;border-radius:999px;font-size:13px;
  transition:background .16s ease,border-color .16s ease
}
.topnav .nav-link:hover{background:rgba(255,255,255,.15)}
.topnav .nav-link.active{background:rgba(255,255,255,.22);border-color:rgba(255,255,255,.35)}

/* =============== å…±ç”¨å€å¡Šç¯€å¥ =============== */
section{ margin-bottom: var(--section-gap); }
.home-hero{margin:26px 0 10px;text-align:center}
.home-hero h2{font-size:22px;font-weight:800;color:var(--ink)}
.home-hero p{color:var(--ink-2);margin-top:6px}

/* =============== Home topics =============== */
.topics{margin-top:16px;display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media (max-width:1100px){.topics{grid-template-columns:repeat(2,1fr)}}
@media (max-width:680px){.topics{grid-template-columns:1fr}}

.topic-card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:16px;box-shadow:var(--shadow-sm);transition:transform .12s,box-shadow .12s,border-color .12s;cursor:pointer
}
.topic-card:hover{transform:translateY(-2px);border-color:rgba(37,99,235,.35);box-shadow:var(--shadow)}
.topic-emoji{font-size:28px}
.topic-title{font-size:16px;font-weight:800;margin-top:6px;color:var(--ink)}
.topic-desc{font-size:13.5px;color:var(--ink-2);margin-top:6px}
.topic-actions{margin-top:12px}
.btn{
  appearance:none;border:1px solid var(--line);background:#fff;color:var(--ink);
  border-radius:10px;padding:7px 10px;font-size:13px;cursor:pointer;transition:.16s
}
.btn:hover{border-color:var(--brand)}
.btn.primary{background:var(--brand);border-color:var(--brand);color:#fff}
.btn.primary:hover{background:var(--brand-700)}

/* =============== Cards gridï¼ˆdefinitions ç­‰ï¼‰ =============== */
.cards{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media (max-width:1100px){.cards{grid-template-columns:repeat(2,1fr)}}
@media (max-width:680px){.cards{grid-template-columns:1fr}}
.card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:14px;box-shadow:var(--shadow-sm);transition:transform .12s,box-shadow .12s,border-color .12s
}
.card:hover{transform:translateY(-2px);border-color:rgba(37,99,235,.35);box-shadow:var(--shadow)}
.card-header{display:flex;justify-content:space-between;gap:8px;align-items:flex-start;margin-bottom:6px}
.country{font-weight:800;color:var(--ink);font-size:16.5px}
.terms{color:var(--accent-700);font-weight:600;font-size:13px;margin-bottom:6px}
.summary{color:var(--ink-2);font-size:13.5px;line-height:1.75}
.actions{display:flex;gap:8px;align-items:center;margin-top:10px}
.chip{background:var(--brand-50);border:1px solid rgba(14,165,165,.35);color:#0b8d8d;font-weight:600;border-radius:999px;padding:4px 8px;font-size:12px}
.badge{display:inline-block;font-size:12px;padding:4px 8px;border-radius:999px;background:#ecfeff;color:#0b8d8d;border:1px solid rgba(14,165,165,.35)}
.fulltext{margin-top:10px;padding-top:8px;border-top:1px dashed var(--line);color:var(--ink-2);font-size:14px}
.variant{margin-top:8px;padding:10px;border:1px dashed var(--line);border-radius:10px;background:#fff}
.variant-header{font-size:13px;font-weight:700;color:var(--accent-700);margin-bottom:6px;display:flex;align-items:center;gap:6px}
.vindex{display:inline-block;width:22px;height:22px;line-height:22px;text-align:center;border-radius:999px;background:#eff6ff;color:#2563eb;font-size:12px;border:1px solid rgba(37,99,235,.25)}
.variant-body{font-size:14px;color:var(--ink-2)}

/* å®šç¾©å¡ï¼šåº•éƒ¨è¡Œç‚ºï¼†æ’ç‰ˆå¾®èª¿ */
.def-card .summary{ font-size:14.5px; line-height:1.75; }
.link-row{
  display:flex; gap:8px; align-items:center;
  flex-wrap:nowrap; overflow:auto; -webkit-overflow-scrolling:touch; padding-bottom:2px;
}
.link-row .btn{ white-space:nowrap; }
.ai-row{ margin-top:8px; display:flex; }
.ai-row .btn{ width:100%; justify-content:center; }

/* =============== Controls bar =============== */
.controls{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:14px;box-shadow:var(--shadow-sm);
  display:grid;grid-template-columns:1.2fr 1fr auto auto;gap:12px;align-items:center;
  margin-bottom: var(--block-gap);
}
@media (max-width:1000px){.controls{grid-template-columns:1fr}}
.searchbox input,.selectbox select,.modebox select{
  width:100%;padding:10px 12px;border:1.5px solid var(--line);border-radius:10px;background:#fff;font-size:14px;outline:none
}
.searchbox input:focus,.selectbox select:focus,.modebox select:focus{
  border-color:var(--brand);box-shadow:0 0 0 4px rgba(14,165,165,.12)
}
.tags{display:flex;gap:8px;flex-wrap:wrap}
.tag{border:1px solid var(--line);border-radius:999px;padding:6px 10px;font-size:12px;color:var(--ink-2);background:#fff;cursor:pointer;transition:.16s}
.tag:hover{border-color:var(--brand)}
.tag.active{background:var(--brand);color:#fff;border-color:var(--brand);box-shadow:0 0 0 3px rgba(14,165,165,.14)}

/* =============== Compare drawerï¼ˆè‹¥å•Ÿç”¨ï¼‰ =============== */
.compare-drawer{
  position:fixed;right:16px;top:96px;width:320px;max-height:calc(100dvh - 130px);overflow:auto;
  background:#ffffffd2;backdrop-filter:blur(6px);border:1px solid var(--line);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:12px;display:none
}
.compare-drawer.open{display:block}
.compare-title{font-weight:800;color:var(--ink);margin-bottom:6px}
.compare-item{background:#fff;border:1px solid var(--line);border-radius:10px;padding:10px;margin-bottom:8px}
.compare-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:6px}

/* =============== Matrix tableï¼ˆeligibility / reassessment / priority / characteristicsï¼‰ =============== */
.matrix{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:12px;box-shadow:var(--shadow-sm);overflow:auto;
  margin-top: var(--block-gap);
}
.table{width:100%;border-collapse:collapse;font-size:14px}
.table th,.table td{border-bottom:1px solid var(--line);padding:10px;text-align:left;white-space:nowrap;vertical-align:top}
.table thead th{position:sticky;top:0;background:#f8fafc;z-index:1}
.flag{display:inline-flex;align-items:center;gap:6px}
.pill{display:inline-block;min-width:28px;text-align:center;padding:2px 8px;border-radius:999px;font-weight:700;font-size:12px}
.pill.y{background:#ecfdf5;color:#065f46;border:1px solid #d1fae5}
.pill.n{background:#fef2f2;color:#7f1d1d;border:1px solid #fee2e2}
.pill.na{background:#f1f5f9;color:#475569;border:1px solid #e2e8f0}
.note{color:var(--muted);font-size:12px}

/* =============== Empty =============== */
.empty{
  text-align:center;padding:40px 20px;color:var(--muted);
  border:1px dashed var(--line);border-radius:var(--radius);
  background:#ffffff90;margin-top:10px
}

/* =============== ğŸ¤– AI Modalï¼ˆå®šç¾©å¡ç‰‡æ‘˜è¦ï¼‰ =============== */
.ai-modal{
  position:fixed;inset:0;display:none;align-items:center;justify-content:center;
  background:rgba(2,6,23,.35);backdrop-filter:blur(2px);z-index:60;
  padding: var(--page-x);
}
.ai-modal-content{
  width:min(780px,100%);max-height:80dvh;overflow:auto;background:#fff;border:1px solid var(--line);
  border-radius:16px;box-shadow:var(--shadow);padding:0
}
.ai-modal-header{
  display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid var(--line);background:#f8fafc
}
.ai-modal-body{padding:16px;font-size:14.5px;color:var(--ink-2);line-height:1.8}
.ai-modal-body p{margin:8px 0}
.ai-modal-body ul{margin:6px 0 6px 20px}
.ai-modal-body li{margin:4px 0}

/* =============== ğŸ¤– AI å°è©±é  =============== */
.ai-card{
  background:var(--card);border:1px solid var(--line);border-radius:var(--radius);
  padding:14px;box-shadow:var(--shadow-sm)
}
.ai-title{font-weight:800;font-size:18px;color:var(--ink)}
.ai-sub{color:var(--ink-2);font-size:14px;margin-top:4px}

/* 1) å¿«é€Ÿæå• */
.ai-quick{
  display:flex;flex-wrap:wrap;gap:8px;margin-top:12px;margin-bottom:10px
}
.ai-quick .chip{
  border:1px solid var(--line);background:#fff;border-radius:999px;padding:6px 10px;
  font-size:12.5px;color:var(--ink-2);cursor:pointer;transition:.16s
}
.ai-quick .chip:hover{border-color:var(--brand)}

/* 2) å¤§è¼¸å…¥æ¡† */
.ai-input{
  display:grid;grid-template-columns:1fr 110px;gap:12px;align-items:start;margin-bottom:12px
}
@media (max-width:700px){.ai-input{grid-template-columns:1fr}}
.ai-input textarea{
  width:100%;min-height:120px;resize:vertical;padding:12px 14px;border:1.5px solid var(--line);border-radius:12px;
  font-size:14.5px;line-height:1.7;outline:none
}
.ai-input textarea:focus{border-color:var(--brand);box-shadow:0 0 0 4px rgba(14,165,165,.12)}
.ai-input .btn{width:100%}

/* 3) èŠå¤©ç´€éŒ„ */
.ai-chat-log{
  border:1px solid var(--line);border-radius:12px;background:#fff;min-height:180px;max-height:52dvh;overflow:auto;
  padding:12px;display:flex;flex-direction:column;gap:10px
}
.ai-msg{display:flex;gap:10px;align-items:flex-start}
.ai-msg .who{
  flex:0 0 auto;background:#f1f5f9;color:#0f172a;border:1px solid #e2e8f0;border-radius:999px;
  padding:2px 8px;font-size:12px;font-weight:700
}
.ai-msg.user .who{background:#ecfeff;color:#0b8d8d;border-color:rgba(14,165,165,.35)}
.ai-msg.assistant .who{background:#eef2ff;color:#3730a3;border-color:#c7d2fe}
.ai-msg .bubble{
  background:#fff;border:1px solid var(--line);border-radius:12px;padding:10px 12px;
  line-height:1.75;font-size:14.5px;color:var(--ink-2);max-width:100%
}
.ai-msg .bubble p{margin:6px 0}
.ai-msg .bubble ul{margin:6px 0 6px 18px}
.ai-msg .bubble li{margin:4px 0}

/* ç‹€æ…‹åˆ— */
.ai-actions{display:flex;justify-content:flex-end;margin-top:8px}
.ai-actions .status{font-size:12.5px;color:var(--muted)}

/* =============== å‹•ç•«/é›œé … =============== */
.fade-in{animation:fade .24s ease}
@keyframes fade{from{opacity:0;transform:translateY(4px)}to{opacity:1;transform:none}}
